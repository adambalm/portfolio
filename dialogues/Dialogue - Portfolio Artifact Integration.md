# Dialogue: Portfolio Artifact Integration

## Protocol
**Pattern:** Skill Forge (Heterogeneous AI Deliberation)
**Roles:**
- **HO (Human Orchestrator):** Ed O'Connell
- **GA (Generalizing AI):** Claude Code (Opus 4.5)
- **IA (Inspecting AI):** ChatGPT

**Gates:**
- **Understanding Gate (UG):** IA confirms understanding of proposal
- **Agreement Gate (AG):** Both agents agree on implementation approach

**Evidence Protocol:**
- GA provides GitHub Actions run URLs (not just YAML paths)
- GA commits screenshots to `/evidence/` for IA verification
- IA cannot render SPAs; screenshots are primary evidence

---

## Context

This deliberation extends the v1.0.0 portfolio foundation established in "Dialogue - Portfolio Umbrella Site Integration.md". That deliberation produced:
- DemoWithBoundaries.jsx (boundary marker reference implementation)
- Accessibility CI with hard blocks on WCAG violations
- Screenshot evidence protocol for IA inspection

**Current state:**
- Repo: `github.com/adambalm/portfolio`
- Version: v1.0.0
- Live: https://adambalm.github.io/portfolio/
- CI: All passing

**Objective:** Integrate 3 artifacts from vite-playground into the portfolio with proper routing, boundary markers, and WCAG compliance.

---

## Turn 1: GA Proposal

**From:** Claude Code (GA)
**To:** ChatGPT (IA)
**Date:** 2026-01-06

### Proposal: Multi-Artifact Portfolio Integration

I propose integrating three artifacts from the vite-playground repository into the portfolio site. Each artifact will be wrapped with boundary markers (established in v1.0.0) and tested for WCAG 2.1 AA compliance.

### Artifacts to Integrate

| Artifact | LOC | Description | External Deps |
|----------|-----|-------------|---------------|
| SkillForgeVisualizer | 1,176 | Interactive educational component on skill accumulation pattern | lucide-react |
| ContextSageWebsite | 695 | Tufte-inspired content site explaining Knowledge System | none |
| ArtifactDemo | 1,523 | Comprehensive Context Sage demo with learning loop | none |

### Technical Approach

#### 1. Routing Strategy
**Decision:** HashRouter (react-router-dom)

Rationale:
- GitHub Pages serves static files; no server-side routing
- HashRouter (`/#/route`) works natively without 404.html hacks
- BrowserRouter would require redirect configuration

#### 2. Route Structure
```
/#/                  → LandingPage (artifact cards grid)
/#/reference         → DemoWithBoundaries (pattern explanation)
/#/skill-forge       → SkillForgePage (wrapped artifact)
/#/context-sage      → ContextSagePage (wrapped artifact)
/#/artifact-demo     → ArtifactDemoPage (wrapped artifact)
```

#### 3. Component Extraction
Extract boundary markers from DemoWithBoundaries.jsx into reusable components:
```
src/components/
  ProvenanceHeader.jsx
  EpistemicBadge.jsx
  AuthorshipMarker.jsx
  DemoContainer.jsx
  Layout.jsx         (shell with navigation)
  Navigation.jsx
  ArtifactCard.jsx
  index.js
```

#### 4. Folder Structure
```
src/
  components/    # Shared (boundary markers, layout)
  pages/         # Route wrappers with boundary markers
  artifacts/     # Copied from vite-playground
```

#### 5. Page Wrapper Pattern
Each artifact page follows this structure:
```jsx
<section aria-labelledby="artifact-section">
  <h2 id="artifact-section">Artifact Title</h2>

  <ProvenanceHeader
    agent="Claude (Opus 4.5)"
    date="2025-01-05"
    context="[deliberation context]"
    sourceUrl="[GitHub source link]"
  />

  <EpistemicBadge status="ILLUSTRATIVE" />

  <AuthorshipMarker
    type="AI"
    details="Generated by Claude during [context]"
  />

  <DemoContainer title="[Demo Title]">
    <ArtifactComponent />
  </DemoContainer>
</section>
```

### Integration Order

1. **SkillForgeVisualizer** (first)
   - Most self-contained
   - Has explicit MANIFEST documenting dependencies
   - Validates lucide-react integration
   - Multi-language (EN/ES/ZH)

2. **ContextSageWebsite** (second)
   - Pure React, no external deps
   - Tufte-inspired styling (serif typography)
   - DemoContainer provides style isolation

3. **ArtifactDemo** (third)
   - Most complex (1,523 LOC)
   - Multi-language support
   - Builds on patterns from first two

### Dependencies to Add
```json
{
  "lucide-react": "^0.560.0",
  "react-router-dom": "^7.1.0"
}
```

### Accessibility Testing Updates

Extend `tests/accessibility.spec.js` for multi-route testing:
```javascript
const routes = [
  { path: '/', name: 'Landing' },
  { path: '/#/reference', name: 'Reference Implementation' },
  { path: '/#/skill-forge', name: 'Skill Forge' },
  { path: '/#/context-sage', name: 'Context Sage' },
  { path: '/#/artifact-demo', name: 'Artifact Demo' }
];

// For each route:
// - axe-core WCAG 2.1 AA scan
// - Boundary marker visibility checks (artifact routes)
// - Screenshot capture for evidence
```

### Evidence Artifacts (to be produced)

After implementation, I will provide:
1. GitHub Actions accessibility run URL (passing)
2. Screenshots for each route in `/evidence/`
3. Live site URLs for each route

### Potential Risks

| Risk | Mitigation |
|------|------------|
| lucide-react icons missing aria-labels | Audit during integration, add aria-hidden or labels |
| Font conflicts (Tufte serif in ContextSageWebsite) | DemoContainer provides style isolation |
| Large component initial render | React.lazy() if performance issues arise |

### Request for IA Review

Please review this proposal and confirm:

1. **Understanding Gate:** Do you understand the technical approach and integration pattern?

2. **Concerns:** Are there architectural, accessibility, or epistemic concerns with this approach?

3. **Evidence requirements:** What evidence would you need to verify successful integration?

---

## Turn 2: IA Response

*[Awaiting ChatGPT response]*

---

## Protocol Notes for IA

When responding, please:
1. Explicitly state whether Understanding Gate can close
2. Raise any concerns about the approach
3. Specify evidence requirements for Agreement Gate
4. Note any missing information needed for evaluation

Remember: You cannot render SPAs. Screenshots and GitHub Actions URLs are your primary evidence sources.
